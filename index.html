<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test RH Avancé</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: #ffffff;
            margin: 0;
            padding: 20px;
        }
        .card {
            max-width: 700px;
            margin: 0 auto;
            background: #1e1e1e;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        .title {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #00ff7f;
        }
        .question {
            font-size: 18px;
            margin: 20px 0;
        }
        .answers button {
            display: block;
            width: 100%;
            margin: 10px 0;
            padding: 10px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            color: #ffffff;
        }
        .answers button.agree {
            background-color: #28a745; /* Vert pour d'accord */
        }
        .answers button.agree:hover {
            background-color: #218838;
        }
        .answers button.neutral {
            background-color: #6c757d; /* Gris pour neutre */
        }
        .answers button.neutral:hover {
            background-color: #5a6268;
        }
        .answers button.disagree {
            background-color: #ff9800; /* Orange pour pas d'accord */
        }
        .answers button.disagree:hover {
            background-color: #e68900;
        }
        .results {
            text-align: center;
            margin-top: 20px;
        }
        .download-btn {
            display: inline-block;
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #00ff7f;
            color: #000;
            text-decoration: none;
            border-radius: 5px;
        }
        .download-btn:hover {
            background-color: #00cc66;
        }
    </style>
</head>
<body>
    <div class="card">
        <h1 class="title">Test RH Avancé</h1>
        <div id="question-container" class="question"></div>
        <div id="answers" class="answers"></div>
    </div>

    <script>
        const questions = [
            { text: "Un collègue change de méthode sans vous prévenir. Quelle est votre réaction ?", dimensions: ["Flexibilité", "Collaboration"] },
            { text: "On vous demande de résoudre un problème inattendu en 1 heure. Que faites-vous ?", dimensions: ["Gestion du Stress", "Analyse"] },
            { text: "Un projet nécessite de remettre en cause une règle établie. Quelle est votre position ?", dimensions: ["Créativité", "Analyse"] },
            { text: "Un conflit éclate dans votre équipe. Que faites-vous ?", dimensions: ["Collaboration", "Gestion du Stress"] },
            { text: "Vous recevez un retour négatif sur votre travail. Quelle est votre réaction ?", dimensions: ["Résilience", "Flexibilité"] },
            { text: "On vous demande de travailler sur un nouveau projet en dehors de vos compétences. Que faites-vous ?", dimensions: ["Créativité", "Collaboration"] },
            { text: "Vous devez gérer plusieurs tâches simultanément. Quelle est votre stratégie ?", dimensions: ["Gestion du Stress", "Flexibilité"] },
            { text: "Un collègue propose une idée totalement différente de la vôtre. Que faites-vous ?", dimensions: ["Collaboration", "Analyse"] },
            { text: "Comment réagissez-vous face à un changement de dernière minute ?", dimensions: ["Flexibilité", "Résilience"] },
            { text: "On vous demande d'innover pour un projet important. Comment procédez-vous ?", dimensions: ["Créativité", "Analyse"] },
            { text: "Vous devez présenter un projet devant un groupe important. Quelle est votre attitude ?", dimensions: ["Gestion du Stress", "Collaboration"] },
            { text: "Un problème technique bloque un projet. Quelle est votre réaction ?", dimensions: ["Analyse", "Résilience"] },
            { text: "Un client critique fortement votre travail. Que faites-vous ?", dimensions: ["Résilience", "Collaboration"] },
            { text: "Vous êtes chargé de coordonner une équipe avec des points de vue divergents. Comment procédez-vous ?", dimensions: ["Collaboration", "Flexibilité"] },
            { text: "Une deadline importante est avancée. Quelle est votre réaction ?", dimensions: ["Gestion du Stress", "Résilience"] },
            { text: "Vous devez expliquer une décision difficile à votre équipe. Comment vous y prenez-vous ?", dimensions: ["Analyse", "Collaboration"] },
            { text: "Vous avez l'opportunité de prendre des responsabilités supplémentaires. Que faites-vous ?", dimensions: ["Flexibilité", "Créativité"] },
            { text: "Un collègue vous demande de l'aider sur un projet en retard. Que faites-vous ?", dimensions: ["Collaboration", "Résilience"] },
            { text: "Vous remarquez une erreur dans un processus clé. Quelle est votre réaction ?", dimensions: ["Analyse", "Flexibilité"] },
            { text: "Vous devez travailler avec une personne ayant des habitudes très différentes des vôtres. Que faites-vous ?", dimensions: ["Collaboration", "Résilience"] }
        ];

        const results = {
            "Flexibilité": 0,
            "Collaboration": 0,
            "Gestion du Stress": 0,
            "Analyse": 0,
            "Créativité": 0,
            "Résilience": 0
        };

        let currentQuestionIndex = 0;

        function showQuestion() {
            const questionContainer = document.getElementById("question-container");
            const answersContainer = document.getElementById("answers");

            if (currentQuestionIndex < questions.length) {
                const question = questions[currentQuestionIndex];
                questionContainer.textContent = question.text;

                answersContainer.innerHTML = `
                    <button class="agree" onclick="submitAnswer(5)">Tout à fait d'accord</button>
                    <button class="agree" onclick="submitAnswer(4)">Plutôt d'accord</button>
                    <button class="neutral" onclick="submitAnswer(3)">Neutre</button>
                    <button class="disagree" onclick="submitAnswer(2)">Plutôt pas d'accord</button>
                    <button class="disagree" onclick="submitAnswer(1)">Pas du tout d'accord</button>
                `;
            } else {
                showResults();
            }
        }

        function submitAnswer(score) {
            const question = questions[currentQuestionIndex];
            question.dimensions.forEach(dimension => {
                results[dimension] += score;
            });

            currentQuestionIndex++;
            showQuestion();
        }

        function showResults() {
            const card = document.querySelector('.card');
            const totalQuestions = questions.length;

            card.innerHTML = `
                <h1 class="title">Résultats</h1>
                <p>Voici vos scores par catégorie :</p>
                <ul>
                    ${Object.entries(results).map(([dimension, score]) => `<li><strong>${dimension} :</strong> ${score} / ${(totalQuestions * 5) / 2}</li>`).join('')}
                </ul>
                <p><strong>Analyse :</strong> ${getAnalysis()}</p>
                <a href="#" class="download-btn" onclick="downloadResults()">Télécharger le rapport</a>
            `;
        }

        function getAnalysis() {
            const highScores = Object.entries(results).filter(([_, score]) => score >= 50);
            if (highScores.length === 0) {
                return "Vous avez plusieurs axes d'amélioration. Travaillez sur votre flexibilité et votre gestion du stress.";
            }
            return `Vous excellez dans : ${highScores.map(([dimension]) => dimension).join(", ")}. Continuez à cultiver ces compétences !`;
        }

        function downloadResults() {
            const totalQuestions = questions.length;
            const details = Object.entries(results)
                .map(([dimension, score]) => `${dimension}: ${score} / ${(totalQuestions * 5) / 2}`)
                .join("\n");

            const analysis = getAnalysis();

            const report = `
                Résultats du Test RH Avancé
                ---------------------------
                ${details}

                Analyse :
                ${analysis}
            `;

            const blob = new Blob([report], { type: "text/plain" });
            const url = URL.createObjectURL(blob);

            const a = document.createElement("a");
            a.href = url;
            a.download = "rapport_test_rh.txt";
            a.click();

            URL.revokeObjectURL(url);
        }

        // Lancer le test
        showQuestion();
    </script>
</body>
</html>

