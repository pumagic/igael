<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test d'adaptation au changement</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: #ffffff;
            margin: 0;
            padding: 20px;
        }
        .card {
            max-width: 800px;
            margin: 0 auto;
            background: #1e1e1e;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        .title {
            text-align: center;
            font-size: 26px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #00ff7f;
        }
        .question {
            font-size: 20px;
            margin: 20px 0;
        }
        .answers button {
            display: block;
            width: 100%;
            margin: 10px 0;
            padding: 15px;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            font-weight: bold;
        }
        .answers button.agree {
            background-color: #28a745;
            color: #ffffff;
        }
        .answers button.agree:hover {
            background-color: #218838;
        }
        .answers button.neutral {
            background-color: #6c757d;
            color: #ffffff;
        }
        .answers button.neutral:hover {
            background-color: #5a6268;
        }
        .answers button.disagree {
            background-color: #ff9800;
            color: #ffffff;
        }
        .answers button.disagree:hover {
            background-color: #e68900;
        }
        .results {
            text-align: center;
            margin-top: 20px;
        }
        .progress-bar-container {
            width: 100%;
            background-color: #3a3a3a;
            border-radius: 10px;
            overflow: hidden;
            margin: 15px 0;
        }
        .progress-bar {
            height: 25px;
            border-radius: 10px;
        }
        .progress-bar.green {
            background-color: #28a745;
        }
        .progress-bar.orange {
            background-color: #ffc107;
        }
        .progress-bar.red {
            background-color: #dc3545;
        }
        .download-btn {
            display: inline-block;
            margin-top: 20px;
            padding: 15px 30px;
            background-color: #00ff7f;
            color: #000;
            text-decoration: none;
            border-radius: 5px;
            font-size: 18px;
        }
        .download-btn:hover {
            background-color: #00cc66;
        }
    </style>
</head>
<body>
    <div class="card">
        <h1 class="title">Test d'adaptation au changement</h1>
        <div id="question-container" class="question"></div>
        <div id="answers" class="answers"></div>
    </div>

    <script>
        const questions = [
            { text: "Un collègue change de méthode sans vous prévenir. Que faites-vous ?", dimensions: ["Flexibilité", "Collaboration"], options: ["J'adapte immédiatement ma méthode.", "Je propose une discussion.", "Je continue avec ma méthode habituelle.", "Je demande des clarifications avant d'agir."] },
            { text: "On vous demande de résoudre un problème inattendu en 1 heure. Que faites-vous ?", dimensions: ["Gestion du Stress", "Analyse"], options: ["Je me concentre et travaille rapidement.", "J'analyse calmement la situation.", "Je demande de l'aide.", "Je repousse la tâche."] },
            { text: "Un conflit éclate dans votre équipe. Que faites-vous ?", dimensions: ["Collaboration", "Leadership"], options: ["J'interviens immédiatement pour calmer la situation.", "J'observe avant d'agir pour comprendre.", "Je délègue à un supérieur.", "Je laisse l'équipe gérer seule."] },
            { text: "Vous recevez un retour négatif sur votre travail. Quelle est votre réaction ?", dimensions: ["Résilience", "Flexibilité"], options: ["Je prends le retour comme une opportunité.", "Je discute pour clarifier les points.", "Je me sens démotivé.", "J'ignore le retour."] },
            { text: "On vous confie un projet complexe sans ressources. Que faites-vous ?", dimensions: ["Initiative", "Analyse"], options: ["Je trouve des solutions créatives.", "Je priorise les tâches essentielles.", "Je demande un support externe.", "Je signale les difficultés."] },
            { text: "Vous devez collaborer avec une personne ayant des idées opposées. Que faites-vous ?", dimensions: ["Collaboration", "Résilience"], options: ["Je trouve un terrain d'entente.", "Je propose des compromis.", "Je me concentre sur mes idées.", "Je refuse de collaborer."] },
            { text: "Un changement majeur est annoncé. Comment réagissez-vous ?", dimensions: ["Adaptabilité", "Flexibilité"], options: ["J'accueille le changement positivement.", "Je m'informe sur les impacts.", "J'exprime mes doutes.", "Je suis réticent au changement."] },
            { text: "Vous devez utiliser un nouvel outil que vous ne maîtrisez pas. Que faites-vous ?", dimensions: ["Apprentissage", "Flexibilité"], options: ["Je m'y plonge immédiatement.", "Je demande une formation.", "Je prends mon temps pour m'y adapter.", "Je refuse de l'utiliser."] },
            { text: "Votre équipe exprime des inquiétudes face à un changement. Que faites-vous ?", dimensions: ["Leadership", "Empathie"], options: ["Je les rassure et propose des solutions.", "Je m'assure de leur écoute active.", "Je leur dis d'accepter la situation.", "J'ignore leurs inquiétudes."] },
            { text: "Vous avez plusieurs tâches importantes simultanément. Que faites-vous ?", dimensions: ["Organisation", "Gestion du Stress"], options: ["Je priorise les tâches.", "Je délègue si possible.", "Je fais tout en même temps.", "Je reporte certaines tâches."] },
            { text: "Un collègue critique votre travail en réunion. Comment réagissez-vous ?", dimensions: ["Résilience", "Collaboration"], options: ["Je réponds calmement avec des faits.", "Je demande une clarification après la réunion.", "Je prends cela personnellement.", "Je reste silencieux et ignore."] },
            { text: "On vous demande d'améliorer un processus inefficace. Que faites-vous ?", dimensions: ["Créativité", "Analyse"], options: ["Je propose une nouvelle solution immédiatement.", "Je m'appuie sur des cas existants.", "Je demande à quelqu'un d'autre de s'en occuper.", "Je ne fais pas de changement."] },
            { text: "Votre manager vous confie un rapport urgent. Que faites-vous ?", dimensions: ["Organisation", "Initiative"], options: ["Je commence immédiatement et me concentre.", "Je demande des précisions sur le contenu.", "Je sollicite l'aide d'un collègue.", "Je signale que le délai est irréaliste."] },
            { text: "Votre équipe est démotivée. Que faites-vous ?", dimensions: ["Leadership", "Empathie"], options: ["Je motive avec des encouragements.", "Je propose une discussion ouverte.", "Je les laisse gérer leur motivation.", "Je ne fais rien de particulier."] },
            { text: "Vous remarquez un conflit latent dans une équipe. Comment réagissez-vous ?", dimensions: ["Collaboration", "Leadership"], options: ["J'interviens pour faciliter la discussion.", "Je prends des mesures pour éviter l'escalade.", "J'ignore la situation.", "Je transfère la responsabilité à un autre manager."] },
            { text: "Un processus change soudainement. Comment gérez-vous cela ?", dimensions: ["Adaptabilité", "Flexibilité"], options: ["Je m'adapte immédiatement.", "Je demande des explications.", "Je suis réticent mais m'adapte avec le temps.", "Je résiste au changement."] },
            { text: "Une tâche complexe arrive sans instructions. Que faites-vous ?", dimensions: ["Initiative", "Analyse"], options: ["Je fais des recherches pour commencer.", "Je demande des clarifications.", "Je remets la tâche à plus tard.", "Je délègue à quelqu'un d'autre."] },
            { text: "Votre manager vous demande de travailler sur un domaine inconnu. Que faites-vous ?", dimensions: ["Apprentissage", "Initiative"], options: ["Je m'y mets immédiatement en apprenant.", "Je demande une formation.", "Je refuse et propose autre chose.", "Je cherche à éviter cette tâche."] },
            { text: "Vous avez peu de temps pour un projet important. Comment vous organisez-vous ?", dimensions: ["Organisation", "Flexibilité"], options: ["Je priorise les tâches clés.", "Je demande une extension de délai.", "Je fais tout à moitié.", "Je reporte les projets moins importants."] },
            { text: "Un collègue propose une idée nouvelle mais risquée. Que faites-vous ?", dimensions: ["Créativité", "Collaboration"], options: ["J'encourage l'idée et aide à l'améliorer.", "Je discute des avantages et des risques.", "Je préfère ne pas prendre de risques.", "Je rejette l'idée immédiatement."] }
        ];

        let currentQuestionIndex = 0;
        const results = {
            "Flexibilité": 0,
            "Collaboration": 0,
            "Gestion du Stress": 0,
            "Analyse": 0,
            "Résilience": 0,
            "Organisation": 0,
            "Leadership": 0,
            "Créativité": 0,
            "Apprentissage": 0,
            "Empathie": 0,
            "Adaptabilité": 0,
            "Initiative": 0
        };

        function showQuestion() {
            const questionContainer = document.getElementById("question-container");
            const answersContainer = document.getElementById("answers");

            if (currentQuestionIndex < questions.length) {
                const question = questions[currentQuestionIndex];
                questionContainer.textContent = question.text;

                answersContainer.innerHTML = question.options
                    .map(
                        (option, index) =>
                            `<button class="${index === 0 ? 'agree' : index === 2 ? 'neutral' : 'disagree'}" onclick="submitAnswer(${index + 1})">${option}</button>`
                    )
                    .join("");
            } else {
                showResults();
            }
        }

        function submitAnswer(score) {
            const question = questions[currentQuestionIndex];
            question.dimensions.forEach((dimension) => {
                results[dimension] += score;
            });

            currentQuestionIndex++;
            showQuestion();
        }

        function showResults() {
            const card = document.querySelector(".card");

            card.innerHTML = `
                <h1 class="title">Résultats</h1>
                ${generateResultBars()}
                <a href="#" class="download-btn" onclick="downloadResults()">Télécharger le rapport</a>
            `;
        }

        function generateResultBars() {
            return Object.entries(results)
                .map(([dimension, score]) => {
                    const percentage = (score / (questions.length * 5)) * 100;
                    const barColor =
                        percentage >= 75
                            ? "green"
                            : percentage >= 50
                            ? "orange"
                            : "red";
                    return `
                        <div>
                            <p><strong>${dimension}</strong>: ${Math.round(percentage)}%</p>
                            <div class="progress-bar-container">
                                <div class="progress-bar ${barColor}" style="width: ${percentage}%;"></div>
                            </div>
                        </div>
                    `;
                })
                .join("");
        }

        function downloadResults() {
            const report = `
                Résultats du Test d'adaptation au changement
                ---------------------------------------------
                ${Object.entries(results)
                    .map(
                        ([dimension, score]) =>
                            `${dimension}: ${score} points (${(
                                (score / (questions.length * 5)) *
                                100
                            ).toFixed(2)}%)`
                    )
                    .join("\n")}
            `;

            const blob = new Blob([report], { type: "text/plain" });
            const url = URL.createObjectURL(blob);

            const a = document.createElement("a");
            a.href = url;
            a.download = "rapport_test_adaptation.txt";
            a.click();

            URL.revokeObjectURL(url);
        }

        showQuestion();
    </script>
</body>
</html>
